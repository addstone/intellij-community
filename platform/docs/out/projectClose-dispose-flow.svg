<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1193" height="1154" contentScriptType="application/ecmascript" contentStyleType="text/css" style="width:1193px;height:1154px" preserveAspectRatio="none" version="1.1" viewBox="0 0 1193 1154" zoomAndPan="magnify"><defs><filter id="shadowFilter" width="300%" height="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter><style>@import url(https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&amp;display=swap);.b0{fill:#ececec}.b1{fill:#f8f8f8}.b2{fill:#fff}.b3{fill:none}.b4{fill:#383838}.l0{filter:url(#shadowFilter)}.l0,.l1{stroke:#383838;stroke-width:1px}.l2{filter:url(#shadowFilter)}.l2,.l3,.l4{stroke:#000;stroke-width:1.5px}.l4{stroke:#383838}.t0,.t1{fill:#000;font-size:14px;font-family:Roboto}.t1{font-family:&quot;Roboto Mono&quot;}</style></defs><g><path d="M880.5,15 L880.5,24.2031 L860.5,28.2031 L880.5,32.2031 L880.5,41.4063 A0,0 0 0 0 880.5,41.4063 L1181.5,41.4063 A0,0 0 0 0 1181.5,41.4063 L1181.5,25 L1171.5,15 L880.5,15 A0,0 0 0 0 880.5,15" class="l0 b0"/><path d="M1171.5,15 L1171.5,25 L1181.5,25 L1171.5,15" class="l1 b0"/><text x="886.5" y="32.988" class="t0" lengthAdjust="spacingAndGlyphs" textLength="280">Project closing executed in a dispatch thread.</text><rect width="96" height="36.406" x="764.5" y="10" class="l0 b1" rx="12.5" ry="12.5"/><text x="774.5" y="32.988" class="t0" lengthAdjust="spacingAndGlyphs" textLength="76">closeProject</text><rect width="197" height="52.895" x="714" y="66.406" class="l0 b1"/><text x="784" y="89.394" class="t0" lengthAdjust="spacingAndGlyphs" textLength="57">canClose</text><text x="724" y="106.348" class="t1" lengthAdjust="spacingAndGlyphs" textLength="177">(ep=ProjectCloseHandler)</text><polygon points="718 139.301 907 139.301 919 155.748 907 172.195 718 172.195 706 155.748 718 139.301" class="l0 b1"/><text x="784" y="152.289" class="t0" lengthAdjust="spacingAndGlyphs" textLength="57">canClose</text><text x="730" y="169.242" class="t1" lengthAdjust="spacingAndGlyphs" textLength="177">(ep=ProjectCloseHandler)</text><text x="685" y="152.33" class="t0" lengthAdjust="spacingAndGlyphs" textLength="21">yes</text><text x="919" y="152.33" class="t0" lengthAdjust="spacingAndGlyphs" textLength="16">no</text><rect width="166" height="36.406" x="471.5" y="182.195" class="l0 b1"/><text x="481.5" y="205.184" class="t0" lengthAdjust="spacingAndGlyphs" textLength="146">Stop Service Preloading</text><path d="M704,243.6836 L704,261.0898 L684,265.0898 L704,269.0898 L704,286.4961 A0,0 0 0 0 704,286.4961 L992,286.4961 A0,0 0 0 0 992,286.4961 L992,253.6836 L982,243.6836 L704,243.6836 A0,0 0 0 0 704,243.6836" class="l0 b0"/><path d="M982,243.6836 L982,253.6836 L992,253.6836 L982,243.6836" class="l1 b0"/><text x="710" y="261.672" class="t0" lengthAdjust="spacingAndGlyphs" textLength="196">In unit test mode in a light tests,</text><text x="710" y="278.078" class="t0" lengthAdjust="spacingAndGlyphs" textLength="267">light project is not closed and not disposed.</text><rect width="259" height="52.977" x="425" y="238.602" class="l0 b1"/><text x="435" y="261.672" class="t0" lengthAdjust="spacingAndGlyphs" textLength="23">Fire</text><text x="461" y="262.137" class="t1" lengthAdjust="spacingAndGlyphs" textLength="175">projectClosingBeforeSave</text><text x="639" y="261.672" class="t0" lengthAdjust="spacingAndGlyphs" textLength="35">Event</text><text x="461.5" y="278.625" class="t1" lengthAdjust="spacingAndGlyphs" textLength="186">(l=ProjectManagerListener)</text><rect width="128" height="36.406" x="490.5" y="311.578" class="l0 b1"/><text x="500.5" y="334.566" class="t0" lengthAdjust="spacingAndGlyphs" textLength="108">Save Project Files</text><polygon points="489 367.984 620 367.984 632 379.984 620 391.984 489 391.984 477 379.984 489 367.984" class="l0 b1"/><text x="489" y="384.769" class="t0" lengthAdjust="spacingAndGlyphs" textLength="131">Save Project Settings</text><text x="299" y="376.566" class="t0" lengthAdjust="spacingAndGlyphs" textLength="178">Successfully or Error Ignored</text><text x="632" y="376.566" class="t0" lengthAdjust="spacingAndGlyphs" textLength="91">Error Occurred</text><rect width="206" height="52.977" x="105.5" y="401.984" class="l0 b1"/><text x="126.5" y="425.055" class="t0" lengthAdjust="spacingAndGlyphs" textLength="23">Fire</text><text x="152.5" y="425.519" class="t1" lengthAdjust="spacingAndGlyphs" textLength="100">projectClosing</text><text x="255.5" y="425.055" class="t0" lengthAdjust="spacingAndGlyphs" textLength="35">Event</text><text x="115.5" y="442.008" class="t1" lengthAdjust="spacingAndGlyphs" textLength="186">(l=ProjectManagerListener)</text><rect width="812" height="677.334" x="10" y="465.879" class="l2 b2"/><path d="M93,466.8789 L93,475.2852 L83,485.2852 L10,485.2852" class="l3 b3"/><text x="13" y="479.867" class="t0" lengthAdjust="spacingAndGlyphs" textLength="73">write action</text><path d="M417,495.2852 L417,520.9766 L397,524.9766 L417,528.9766 L417,554.668 A0,0 0 0 0 417,554.668 L812,554.668 A0,0 0 0 0 812,554.668 L812,505.2852 L802,495.2852 L417,495.2852 A0,0 0 0 0 417,495.2852" class="l0 b0"/><path d="M802,495.2852 L802,505.2852 L812,505.2852 L802,495.2852" class="l1 b0"/><text x="423" y="513.356" class="t0" lengthAdjust="spacingAndGlyphs" textLength="217">If you incorrectly specify project for</text><text x="643" y="513.82" class="t1" lengthAdjust="spacingAndGlyphs" textLength="151">MessageBus.connect()</text><text x="794" y="513.356" class="t0" lengthAdjust="spacingAndGlyphs" textLength="3">,</text><text x="423" y="529.762" class="t0" lengthAdjust="spacingAndGlyphs" textLength="214">it will be disconnected on this step.</text><text x="423" y="546.25" class="t0" lengthAdjust="spacingAndGlyphs" textLength="88">Do not specify</text><text x="514" y="546.715" class="t1" lengthAdjust="spacingAndGlyphs" textLength="120">parentDisposable</text><text x="637" y="546.25" class="t0" lengthAdjust="spacingAndGlyphs" textLength="92">unless needed.</text><rect width="377" height="36.406" x="20" y="506.773" class="l0 b1"/><text x="30" y="529.762" class="t0" lengthAdjust="spacingAndGlyphs" textLength="357">Dispose everything that uses Project as parent disposable</text><rect width="296" height="52.813" x="60.5" y="574.668" class="l0 b1"/><text x="77" y="597.656" class="t0" lengthAdjust="spacingAndGlyphs" textLength="263">Dispose Project Message Bus Connections</text><text x="70.5" y="614.063" class="t0" lengthAdjust="spacingAndGlyphs" textLength="276">without explicitly specified parent disposable</text><path d="M377.5,637.4805 L377.5,671.334 L357.5,675.334 L377.5,679.334 L377.5,713.1875 A0,0 0 0 0 377.5,713.1875 L789.5,713.1875 A0,0 0 0 0 789.5,713.1875 L789.5,647.4805 L779.5,637.4805 L377.5,637.4805 A0,0 0 0 0 377.5,637.4805" class="l0 b0"/><path d="M779.5,637.4805 L779.5,647.4805 L789.5,647.4805 L779.5,637.4805" class="l1 b0"/><text x="383.5" y="655.469" class="t0" lengthAdjust="spacingAndGlyphs" textLength="294">Getting services and publishing to message bus</text><text x="383.5" y="671.875" class="t0" lengthAdjust="spacingAndGlyphs" textLength="162">is prohibited from now on.</text><text x="383.5" y="688.828" class="t1" lengthAdjust="spacingAndGlyphs" textLength="125">Project.isDisposed</text><text x="511.5" y="688.363" class="t0" lengthAdjust="spacingAndGlyphs" textLength="45">returns</text><text x="559.5" y="688.828" class="t1" lengthAdjust="spacingAndGlyphs" textLength="28">true</text><text x="590.5" y="688.363" class="t0" lengthAdjust="spacingAndGlyphs" textLength="184">(not changed in a read action,</text><text x="383.5" y="704.769" class="t0" lengthAdjust="spacingAndGlyphs" textLength="232">because state is set in a write action).</text><rect width="298" height="36.488" x="59.5" y="657.09" class="l0 b1"/><text x="69.5" y="680.16" class="t0" lengthAdjust="spacingAndGlyphs" textLength="119">Set Project State to</text><text x="191.5" y="680.625" class="t1" lengthAdjust="spacingAndGlyphs" textLength="156">DISPOSE_IN_PROGRESS</text><path d="M402,738.1875 L402,747.3906 L382,751.3906 L402,755.3906 L402,764.5938 A0,0 0 0 0 402,764.5938 L760,764.5938 A0,0 0 0 0 760,764.5938 L760,748.1875 L750,738.1875 L402,738.1875 A0,0 0 0 0 402,738.1875" class="l0 b0"/><path d="M750,738.1875 L750,748.1875 L760,748.1875 L750,738.1875" class="l1 b0"/><text x="408" y="756.176" class="t0" lengthAdjust="spacingAndGlyphs" textLength="337">Connecting to message bus is prohibited from now on.</text><rect width="347" height="36.406" x="35" y="733.188" class="l0 b1"/><text x="45" y="756.176" class="t0" lengthAdjust="spacingAndGlyphs" textLength="327">Dispose Project Message Bus Connection Disposable</text><path d="M350,786.3496 L350,803.7969 L330,807.7969 L350,811.7969 L350,829.2441 A0,0 0 0 0 350,829.2441 L663,829.2441 A0,0 0 0 0 663,829.2441 L663,796.3496 L653,786.3496 L350,786.3496 A0,0 0 0 0 350,786.3496" class="l0 b0"/><path d="M653,786.3496 L653,796.3496 L663,796.3496 L653,786.3496" class="l1 b0"/><text x="356" y="804.42" class="t0" lengthAdjust="spacingAndGlyphs" textLength="55">Result of</text><text x="414" y="804.885" class="t1" lengthAdjust="spacingAndGlyphs" textLength="234">ProjectManager.getOpenProjects()</text><text x="356" y="820.826" class="t0" lengthAdjust="spacingAndGlyphs" textLength="173">is valid only in a read action.</text><rect width="243" height="36.406" x="87" y="789.594" class="l0 b1"/><text x="97" y="812.582" class="t0" lengthAdjust="spacingAndGlyphs" textLength="223">Remove Project from List of Opened</text><rect width="206" height="52.977" x="105.5" y="849.244" class="l0 b1"/><text x="129" y="872.314" class="t0" lengthAdjust="spacingAndGlyphs" textLength="23">Fire</text><text x="155" y="872.779" class="t1" lengthAdjust="spacingAndGlyphs" textLength="95">projectClosed</text><text x="253" y="872.314" class="t0" lengthAdjust="spacingAndGlyphs" textLength="35">Event</text><text x="115.5" y="889.268" class="t1" lengthAdjust="spacingAndGlyphs" textLength="186">(l=ProjectManagerListener)</text><rect width="209" height="36.488" x="104" y="922.221" class="l0 b1"/><text x="114" y="945.291" class="t0" lengthAdjust="spacingAndGlyphs" textLength="119">Set Project State to</text><text x="236" y="945.756" class="t1" lengthAdjust="spacingAndGlyphs" textLength="67">DISPOSED</text><path d="M345,975.5059 L345,992.9121 L325,996.9121 L345,1000.9121 L345,1018.3184 A0,0 0 0 0 345,1018.3184 L590,1018.3184 A0,0 0 0 0 590,1018.3184 L590,985.5059 L580,975.5059 L345,975.5059 A0,0 0 0 0 345,975.5059" class="l0 b0"/><path d="M580,975.5059 L580,985.5059 L590,985.5059 L580,975.5059" class="l1 b0"/><text x="351" y="993.494" class="t0" lengthAdjust="spacingAndGlyphs" textLength="170">First created, last disposed.</text><text x="351" y="1009.9" class="t0" lengthAdjust="spacingAndGlyphs" textLength="224">Children are disposed before parent.</text><rect width="233" height="36.406" x="92" y="978.709" class="l0 b1"/><text x="102" y="1001.697" class="t0" lengthAdjust="spacingAndGlyphs" textLength="213">Dispose Services and Components</text><rect width="155" height="36.406" x="131" y="1038.318" class="l0 b1"/><text x="141" y="1061.307" class="t0" lengthAdjust="spacingAndGlyphs" textLength="135">Dispose Message Bus</text><rect width="289" height="36.488" x="64" y="1094.725" class="l0 b1" rx="12.5" ry="12.5"/><text x="74" y="1117.795" class="t0" lengthAdjust="spacingAndGlyphs" textLength="119">Set Project State to</text><text x="196" y="1118.26" class="t1" lengthAdjust="spacingAndGlyphs" textLength="147">DISPOSE_COMPLETED</text><rect width="117" height="36.406" x="842" y="401.984" class="l0 b1" rx="12.5" ry="12.5"/><text x="852" y="424.973" class="t0" lengthAdjust="spacingAndGlyphs" textLength="97">Close Cancelled</text><rect width="117" height="36.406" x="1012" y="182.195" class="l0 b1" rx="12.5" ry="12.5"/><text x="1022" y="205.184" class="t0" lengthAdjust="spacingAndGlyphs" textLength="97">Close Cancelled</text><line x1="812.5" x2="812.5" y1="46.406" y2="66.406" class="l4"/><polygon points="808.5 56.406 812.5 66.406 816.5 56.406 812.5 60.406" class="l1 b4"/><line x1="554.5" x2="554.5" y1="218.602" y2="238.602" class="l4"/><polygon points="550.5 228.602 554.5 238.602 558.5 228.602 554.5 232.602" class="l1 b4"/><line x1="554.5" x2="554.5" y1="291.578" y2="311.578" class="l4"/><polygon points="550.5 301.578 554.5 311.578 558.5 301.578 554.5 305.578" class="l1 b4"/><line x1="208.5" x2="208.5" y1="543.18" y2="574.668" class="l4"/><polygon points="204.5 564.668 208.5 574.668 212.5 564.668 208.5 568.668" class="l1 b4"/><line x1="208.5" x2="208.5" y1="627.481" y2="657.09" class="l4"/><polygon points="204.5 647.09 208.5 657.09 212.5 647.09 208.5 651.09" class="l1 b4"/><line x1="208.5" x2="208.5" y1="693.578" y2="733.188" class="l4"/><polygon points="204.5 723.188 208.5 733.188 212.5 723.188 208.5 727.188" class="l1 b4"/><line x1="208.5" x2="208.5" y1="769.594" y2="789.594" class="l4"/><polygon points="204.5 779.594 208.5 789.594 212.5 779.594 208.5 783.594" class="l1 b4"/><line x1="208.5" x2="208.5" y1="826" y2="849.244" class="l4"/><polygon points="204.5 839.244 208.5 849.244 212.5 839.244 208.5 843.244" class="l1 b4"/><line x1="208.5" x2="208.5" y1="902.221" y2="922.221" class="l4"/><polygon points="204.5 912.221 208.5 922.221 212.5 912.221 208.5 916.221" class="l1 b4"/><line x1="208.5" x2="208.5" y1="958.709" y2="978.709" class="l4"/><polygon points="204.5 968.709 208.5 978.709 212.5 968.709 208.5 972.709" class="l1 b4"/><line x1="208.5" x2="208.5" y1="1015.115" y2="1038.318" class="l4"/><polygon points="204.5 1028.318 208.5 1038.318 212.5 1028.318 208.5 1032.318" class="l1 b4"/><line x1="208.5" x2="208.5" y1="1074.725" y2="1094.725" class="l4"/><polygon points="204.5 1084.725 208.5 1094.725 212.5 1084.725 208.5 1088.725" class="l1 b4"/><line x1="208.5" x2="208.5" y1="454.961" y2="506.773" class="l4"/><polygon points="204.5 496.773 208.5 506.773 212.5 496.773 208.5 500.773" class="l1 b4"/><line x1="477" x2="208.5" y1="379.984" y2="379.984" class="l4"/><line x1="208.5" x2="208.5" y1="379.984" y2="401.984" class="l4"/><polygon points="204.5 391.984 208.5 401.984 212.5 391.984 208.5 395.984" class="l1 b4"/><line x1="632" x2="900.5" y1="379.984" y2="379.984" class="l4"/><line x1="900.5" x2="900.5" y1="379.984" y2="401.984" class="l4"/><polygon points="896.5 391.984 900.5 401.984 904.5 391.984 900.5 395.984" class="l1 b4"/><line x1="554.5" x2="554.5" y1="347.984" y2="367.984" class="l4"/><polygon points="550.5 357.984 554.5 367.984 558.5 357.984 554.5 361.984" class="l1 b4"/><line x1="706" x2="554.5" y1="155.748" y2="155.748" class="l4"/><line x1="554.5" x2="554.5" y1="155.748" y2="182.195" class="l4"/><polygon points="550.5 172.195 554.5 182.195 558.5 172.195 554.5 176.195" class="l1 b4"/><line x1="919" x2="1070.5" y1="155.748" y2="155.748" class="l4"/><line x1="1070.5" x2="1070.5" y1="155.748" y2="182.195" class="l4"/><polygon points="1066.5 172.195 1070.5 182.195 1074.5 172.195 1070.5 176.195" class="l1 b4"/><line x1="812.5" x2="812.5" y1="119.301" y2="139.301" class="l4"/><polygon points="808.5 129.301 812.5 139.301 816.5 129.301 812.5 133.301" class="l1 b4"/></g></svg>